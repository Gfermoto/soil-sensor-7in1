# –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π JXCT

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–¶–µ–ª—å —Å–∏—Å—Ç–µ–º—ã:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–Ω—ã—Ö –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —É—Ö–æ–¥—É –∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–æ–≤
2. **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
   - –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫—É–ª—å—Ç—É—Ä
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ—Ä–µ–Ω–∏–π
   - –°—Ç–∞–¥–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è —Ä–∞—Å—Ç–µ–Ω–∏—è
3. **–¢–∏–ø—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:**
   - –°—Ä–æ—á–Ω—ã–µ (—Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è)
   - –ü–ª–∞–Ω–æ–≤—ã–µ (–¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —É—Å–ª–æ–≤–∏–π)
   - –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º)

## –ê–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∞

### 1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
```python
def collect_data():
    return {
        "current": get_current_readings(),
        "history": get_readings_history(hours=24),
        "crop": get_crop_parameters(),
        "stage": get_growth_stage()
    }
```

### 2. –ê–Ω–∞–ª–∏–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π
```python
def analyze_deviations(data):
    deviations = []
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    for param in ["temperature", "moisture", "ph", "ec", "npk"]:
        current = data["current"][param]
        optimal = data["crop"][param]["stages"][data["stage"]]
        
        if current < optimal["min"]:
            deviations.append({
                "param": param,
                "type": "low",
                "value": current,
                "target": optimal["optimal"],
                "severity": calculate_severity(current, optimal)
            })
        elif current > optimal["max"]:
            deviations.append({
                "param": param,
                "type": "high",
                "value": current,
                "target": optimal["optimal"],
                "severity": calculate_severity(current, optimal)
            })
    
    return deviations
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
```python
def generate_recommendations(deviations):
    recommendations = []
    
    for dev in deviations:
        if dev["param"] == "moisture" and dev["type"] == "low":
            recommendations.append({
                "type": "urgent",
                "action": "water",
                "details": f"–ü–æ–ª–µ–π—Ç–µ —Ä–∞—Å—Ç–µ–Ω–∏—è. –¢–µ–∫—É—â–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å {dev['value']}%, —Ü–µ–ª–µ–≤–∞—è {dev['target']}%",
                "severity": dev["severity"]
            })
        # –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    
    return sorted(recommendations, key=lambda x: x["severity"], reverse=True)
```

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è
- üü¢ –í –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
- üü° –õ–µ–≥–∫–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
- üü† –°—Ä–µ–¥–Ω–µ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
- üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ

### 2. –ì—Ä–∞—Ñ–∏–∫–∏
```javascript
function renderChart(data, optimal) {
    return {
        type: 'line',
        data: {
            datasets: [{
                label: '–¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è',
                data: data,
                borderColor: 'blue'
            }, {
                label: '–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω',
                data: optimal,
                backgroundColor: 'rgba(0, 255, 0, 0.2)'
            }]
        },
        options: {
            plugins: {
                annotation: {
                    annotations: {
                        box1: {
                            type: 'box',
                            yMin: optimal.min,
                            yMax: optimal.max,
                            backgroundColor: 'rgba(0, 255, 0, 0.1)'
                        }
                    }
                }
            }
        }
    }
}
```

## –§–æ—Ä–º–∞—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### 1. –°—Ä–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```json
{
    "type": "urgent",
    "title": "–ù–∏–∑–∫–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã",
    "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–∏–≤",
    "current_value": 45,
    "optimal_range": {
        "min": 60,
        "optimal": 70,
        "max": 80
    },
    "action": {
        "type": "watering",
        "amount": "2–ª/–º¬≤",
        "urgency": "immediate"
    }
}
```

### 2. –ü–ª–∞–Ω–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```json
{
    "type": "planned",
    "title": "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è pH",
    "description": "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ pH",
    "current_value": 7.8,
    "optimal_range": {
        "min": 6.0,
        "optimal": 6.5,
        "max": 7.0
    },
    "action": {
        "type": "ph_adjustment",
        "method": "add_sulfur",
        "amount": "30–≥/–º¬≤",
        "period": "7 –¥–Ω–µ–π"
    }
}
```

## API Endpoints

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
```http
GET /api/v1/recommendations
Query parameters:
  - crop_id: string
  - growth_stage: string
  - readings: object
```

### 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```http
POST /api/v1/recommendations/{id}/complete
Body:
  - action_taken: string
  - notes: string (optional)
```

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

1. **–õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫—É–ª—å—Ç—É—Ä
   - –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
   - –®–∞–±–ª–æ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

2. **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - –ü–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤: –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
   - –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤: –∫–∞–∂–¥—ã–π —á–∞—Å
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π
   
3. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è:**
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   - –ü–ª–∞–Ω–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏
   - –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã: –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
   - –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å
   - –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ CO‚ÇÇ
   - –ú–∏–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç—ã

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏:**
   - –ú–µ—Ç–µ–æ–¥–∞–Ω–Ω—ã–µ
   - –°–∏—Å—Ç–µ–º—ã –ø–æ–ª–∏–≤–∞
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–≥—Ä–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π

3. **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ:**
   - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
   - –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π 