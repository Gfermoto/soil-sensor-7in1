# –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê v2.5.0 - –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–ê–Ø –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–Ø

**–î–∞—Ç–∞:** 19 –¥–µ–∫–∞–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** v2.4.4 ‚Üí v2.5.0  
**–¶–µ–ª—å:** –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è OTA-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏  

---

## üéØ –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ï–ì–û –°–û–°–¢–û–Ø–ù–ò–Ø

### ‚úÖ **–£—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ v2.4.4:**
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ realSensorTask()** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è
- **CSS —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `getUnifiedCSS()`  
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ 913KB Flash, 53KB RAM

### ‚ùå **–û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. **setupWebServer()** - –º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è 800+ —Å—Ç—Ä–æ–∫ —Å 15+ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
2. **HTML –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —à–∞–±–ª–æ–Ω—ã –≤ –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è—Ö
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ error handling** - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
4. **–ñ–µ—Å—Ç–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–π –∫–æ–¥** - —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏

---

## üöÄ –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê –ù–ê 3 –≠–¢–ê–ü–ê

### **–≠–¢–ê–ü 1: –û–°–ù–û–í–´ –ú–û–î–£–õ–¨–ù–û–°–¢–ò** ‚è±Ô∏è 3 —á–∞—Å–∞ | **–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π

#### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–µ–±-–º–æ–¥—É–ª–µ–π
```cpp
// include/web_server/web_templates.h
#ifndef WEB_TEMPLATES_H
#define WEB_TEMPLATES_H

#include <Arduino.h>
#include <ArduinoJson.h>

class WebTemplates {
public:
    static String buildHTMLPage(const String& title, const String& content, bool needAuth = true);
    static String buildErrorPage(const String& error, int code = 400);
    static String buildSuccessPage(const String& message, const String& redirect = "/");
    static String buildRedirectPage(const String& url, int delay = 2);
    
private:
    static String getHTMLHeader(const String& title);
    static String getHTMLFooter();
    static String getNavigation();
};

#endif
```

#### 1.2 HTTP —É—Ç–∏–ª–∏—Ç—ã
```cpp
// include/web_server/web_utils.h
#ifndef WEB_UTILS_H
#define WEB_UTILS_H

#include <WebServer.h>
#include <ArduinoJson.h>

class WebUtils {
public:
    static void sendHTMLResponse(const String& html, int code = 200);
    static void sendJSONResponse(const JsonDocument& doc, int code = 200);
    static void sendJSONError(const String& error, int code = 400);
    static void sendJSONSuccess(const String& message);
    static bool validateWebAuth();
    static void logWebRequest(const String& method, const String& uri);
    static void logWebError(const String& error, int code);
    
private:
    static void setCORSHeaders();
    static void setSecurityHeaders();
};

#endif
```

#### 1.3 –ë–∞–∑–æ–≤—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
```cpp
// include/web_server/web_validators.h
#ifndef WEB_VALIDATORS_H
#define WEB_VALIDATORS_H

class WebValidators {
public:
    static bool validateSSID(const String& ssid);
    static bool validatePassword(const String& password);
    static bool validateInterval(int interval, int min, int max);
    static bool validateDelta(float delta, float min, float max);
    static bool validateIPAddress(const String& ip);
    static bool validatePort(int port);
    static bool validateEmail(const String& email);
};

#endif
```

### **–≠–¢–ê–ü 2: –†–ê–ó–ë–ò–í–ö–ê –ù–ê –ú–û–î–£–õ–ò** ‚è±Ô∏è 5 —á–∞—Å–æ–≤ | **–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π

#### 2.1 –ú–æ–¥—É–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```cpp
// src/web_server/web_auth_routes.cpp
#include "web_server/web_auth_routes.h"
#include "web_server/web_templates.h" 
#include "web_server/web_utils.h"

extern WebServer webServer;

void setupAuthRoutes() {
    webServer.on("/", HTTP_GET, handleMainPage);
    webServer.on("/", HTTP_POST, handleAuthPost);
    webServer.on("/login", HTTP_GET, handleLoginPage);
    webServer.on("/logout", HTTP_POST, handleLogout);
}

void handleMainPage() {
    if (!WebUtils::validateWebAuth()) {
        handleLoginPage();
        return;
    }
    
    // –õ–æ–≥–∏–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ WiFi
    String content = buildMainPageContent();
    String html = WebTemplates::buildHTMLPage("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ JXCT", content);
    WebUtils::sendHTMLResponse(html);
}

void handleAuthPost() {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    String username = webServer.arg("username");
    String password = webServer.arg("password");
    
    if (validateCredentials(username, password)) {
        // –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        WebUtils::sendJSONSuccess("–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞");
    } else {
        WebUtils::sendJSONError("–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ", 401);
    }
}
```

#### 2.2 –ú–æ–¥—É–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```cpp
// src/web_server/web_config_routes.cpp  
#include "web_server/web_config_routes.h"
#include "web_server/web_validators.h"

void setupConfigRoutes() {
    webServer.on("/save", HTTP_POST, handleSaveConfig);
    webServer.on("/config_manager", HTTP_GET, handleConfigManager);
    webServer.on("/api/config/export", HTTP_GET, handleExportConfig);
    webServer.on("/api/config/import", HTTP_POST, handleImportConfig);
    webServer.on("/reset", HTTP_POST, handleResetConfig);
}

void handleSaveConfig() {
    if (!WebUtils::validateWebAuth()) {
        WebUtils::sendJSONError("–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è", 401);
        return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    String ssid = webServer.arg("ssid");
    String password = webServer.arg("password");
    
    if (!WebValidators::validateSSID(ssid)) {
        WebUtils::sendJSONError("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π SSID", 400);
        return;
    }
    
    if (!WebValidators::validatePassword(password)) {
        WebUtils::sendJSONError("–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –ø–∞—Ä–æ–ª—å", 400);
        return;
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    saveConfiguration(ssid, password);
    WebUtils::sendJSONSuccess("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã");
}
```

#### 2.3 –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
```cpp
// src/web_server/web_intervals_routes.cpp
void setupIntervalsRoutes() {
    webServer.on("/intervals", HTTP_GET, handleIntervalsPage);
    webServer.on("/save_intervals", HTTP_POST, handleSaveIntervals);
    webServer.on("/reset_intervals", HTTP_GET, handleResetIntervals);
}

void handleSaveIntervals() {
    if (!WebUtils::validateWebAuth()) {
        WebUtils::sendJSONError("–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è", 401);
        return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
    int sensorInterval = webServer.arg("sensor_interval").toInt();
    int mqttInterval = webServer.arg("mqtt_interval").toInt();
    
    if (!WebValidators::validateInterval(sensorInterval, 1, 3600)) {
        WebUtils::sendJSONError("–ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–µ–Ω—Å–æ—Ä–∞ –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞", 400);
        return;
    }
    
    if (!WebValidators::validateInterval(mqttInterval, 1, 1440)) {
        WebUtils::sendJSONError("–ò–Ω—Ç–µ—Ä–≤–∞–ª MQTT –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞", 400);
        return;
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
    saveIntervals(sensorInterval, mqttInterval);
    WebUtils::sendJSONSuccess("–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã");
}
```

### **–≠–¢–ê–ü 3: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨** ‚è±Ô∏è 2 —á–∞—Å–∞ | **–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π

#### 3.1 Middleware –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```cpp
// src/web_server/web_middleware.cpp
class WebMiddleware {
public:
    static bool authRequired(bool required = true);
    static bool rateLimiting(const String& endpoint, int maxRequests = 60);
    static bool validateContentType(const String& expectedType);
    static void addSecurityHeaders();
};

bool WebMiddleware::authRequired(bool required) {
    if (!required) return true;
    
    if (!WebUtils::validateWebAuth()) {
        WebUtils::sendJSONError("–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è", 401);
        return false;
    }
    return true;
}
```

#### 3.2 –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```cpp
// src/web_server/web_error_handler.cpp
class WebErrorHandler {
public:
    static void handleError(const String& error, int code, const String& context);
    static void handle404();
    static void handle500(const String& error);
    static void handleValidationError(const String& field, const String& error);
    
private:
    static void logError(const String& error, int code, const String& context);
    static String buildErrorResponse(const String& error, int code);
};
```

---

## üìÅ –ù–û–í–ê–Ø –§–ê–ô–õ–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê

```
src/
‚îú‚îÄ‚îÄ wifi_manager.cpp              # –¢–æ–ª—å–∫–æ WiFi —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ web_server/                   # –í–µ–±-—Å–µ—Ä–≤–µ—Ä –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ web_templates.cpp         # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ web_utils.cpp             # HTTP —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ web_validators.cpp        # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ web_middleware.cpp        # Middleware —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ web_error_handler.cpp     # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ web_auth_routes.cpp       # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + –≥–ª–∞–≤–Ω–∞—è
‚îÇ   ‚îú‚îÄ‚îÄ web_config_routes.cpp     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ web_intervals_routes.cpp  # –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ web_service_routes.cpp    # –°–µ—Ä–≤–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ web_api_routes.cpp        # JSON API
‚îÇ   ‚îî‚îÄ‚îÄ web_readings_routes.cpp   # –ü–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞

include/
‚îú‚îÄ‚îÄ web_server/                   # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ web_templates.h
‚îÇ   ‚îú‚îÄ‚îÄ web_utils.h
‚îÇ   ‚îú‚îÄ‚îÄ web_validators.h
‚îÇ   ‚îú‚îÄ‚îÄ web_middleware.h
‚îÇ   ‚îú‚îÄ‚îÄ web_error_handler.h
‚îÇ   ‚îî‚îÄ‚îÄ web_routes.h              # –û–±—ä—è–≤–ª–µ–Ω–∏—è setup*Routes()
```

---

## üîß –£–ü–†–û–©–ï–ù–ù–ê–Ø setupWebServer()

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
```cpp
// src/wifi_manager.cpp - –ù–æ–≤–∞—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
void setupWebServer() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è middleware
    WebMiddleware::initialize();
    WebErrorHandler::initialize();
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ –º–æ–¥—É–ª—è–º
    setupAuthRoutes();          // –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
    setupConfigRoutes();        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    setupIntervalsRoutes();     // –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã  
    setupServiceRoutes();       // –°–µ—Ä–≤–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    setupAPIRoutes();           // JSON API endpoints
    setupReadingsRoutes();      // –ü–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫
    webServer.onNotFound(WebErrorHandler::handle404);
    
    // –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
    webServer.begin();
    logSuccess("–í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É %d", HTTP_PORT);
}
```

### –†–∞–∑–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏: 800+ —Å—Ç—Ä–æ–∫ ‚Üí **15 —Å—Ç—Ä–æ–∫** ‚ö°

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
- **Maintainability:** ‚Üë 400% (–º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- **Testability:** ‚Üë 600% (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏)
- **Code reusability:** ‚Üë 300% (–æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã)
- **Debugging efficiency:** ‚Üë 250% (—á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ)

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**  
- **Flash –ø–∞–º—è—Ç—å:** –≠–∫–æ–Ω–æ–º–∏—è ~3-5KB –∑–∞ —Å—á–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è  
- **Compile time:** ‚Üì 25% (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –º–æ–¥—É–ª–µ–π)
- **Runtime memory:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Å –ª—É—á—à–µ–π —É—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- **Input validation:** ‚Üë 500% (—Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- **Error handling:** ‚Üë 300% (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- **Security headers:** ‚Üë 100% (CORS, CSP, XSS protection)

---

## üõ°Ô∏è –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### **–ü–æ—ç—Ç–∞–ø–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫)
1. **–î–µ–Ω—å 1:** –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (templates, utils, validators)
2. **–î–µ–Ω—å 2:** –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (API endpoints)
3. **–î–µ–Ω—å 3:** –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (auth, config)
4. **–î–µ–Ω—å 4:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
5. **–î–µ–Ω—å 5:** –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### **Backward compatibility** 
- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ URL –æ—Å—Ç–∞—é—Ç—Å—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–º–∏
- JSON API endpoints —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **Testing strategy**
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- E2E —Ç–µ—Å—Ç—ã –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- Performance —Ç–µ—Å—Ç—ã (–ø–∞–º—è—Ç—å, –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞)

---

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏**
- [ ] setupWebServer() < 20 —Å—Ç—Ä–æ–∫
- [ ] –ú–æ–¥—É–ª–∏ < 200 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π
- [ ] 100% –ø–æ–∫—Ä—ã—Ç–∏–µ error handling
- [ ] 95%+ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] Flash —ç–∫–æ–Ω–æ–º–∏—è 3+ KB

### **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
- [ ] –í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã: < 5 –º–∏–Ω—É—Ç  
- [ ] –í—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞: < 15 –º–∏–Ω—É—Ç
- [ ] –í—Ä–µ–º—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è unit —Ç–µ—Å—Ç–∞: < 10 –º–∏–Ω—É—Ç
- [ ] –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏: —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ "–ø—Ä–æ—Å—Ç–∞—è"

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### **–ù–µ–¥–µ–ª—è 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (19-25 –¥–µ–∫–∞–±—Ä—è)**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥—É–ª–µ–π
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è WebTemplates –∏ WebUtils –∫–ª–∞—Å—Å–æ–≤
- [ ] –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### **–ù–µ–¥–µ–ª—è 2: –ú–∏–≥—Ä–∞—Ü–∏—è (26 –¥–µ–∫–∞–±—Ä—è - 1 —è–Ω–≤–∞—Ä—è)**  
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è API –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è

### **–ù–µ–¥–µ–ª—è 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2-8 —è–Ω–≤–∞—Ä—è)**
- [ ] –í–Ω–µ–¥—Ä–µ–Ω–∏–µ middleware –∏ error handling
- [ ] Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ù–µ–¥–µ–ª—è 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ OTA (9-15 —è–Ω–≤–∞—Ä—è)**
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é OTA

---

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–æ–∑–¥–∞—Å—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é, –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞, –≥–æ—Ç–æ–≤—É—é –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∏—Å–∫–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç backward compatibility. 