# –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–∞ JXCT 7-–≤-1

> üìã **–î–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏** —Å–º. [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](CALIBRATION_WEB_INTERFACE.md)

> ‚ö° **–§–æ–∫—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞**: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–∞. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∏—Å—Ç–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

## üìë –û–ø–∏—Å–∞–Ω–∏–µ
–í –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω—ã –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏—é (–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é) –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–∞ JXCT 7-–≤-1 –≤ –ø—Ä–æ—à–∏–≤–∫–µ v2.5.1.

–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ü–û–°–õ–ï —á—Ç–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ Modbus, –Ω–æ –î–û —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/—É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è. –ò—Å—Ö–æ–¥–Ω—ã–µ (—Å—ã—Ä—ã–µ) –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `SensorData.raw_*` –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ |
|----------|-------------|-------------|
| –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ | `T_raw` | ‚Äî (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –±–∞–∑–∞) |
| –í–ª–∞–∂–Ω–æ—Å—Ç—å | `H_raw` | *Moisture compensation* –¥–ª—è NPK |
| –≠–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å (EC) | `EC_raw` | *Temperature* ‚Üí `EC_25¬∞C`; –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ü–∏—é NPK |
| pH | `pH_raw` | *Temperature* (—É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ù–µ—Ä–Ω—Å—Ç–∞) |
| N, P, K | `N_raw`, `P_raw`, `K_raw` | *Moisture*, *pH*, *EC* |

> **–í–∞–∂–Ω–æ:** –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `config.flags.calibrationEnabled == 1`.

---

## üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏

### 1. –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–°—ã—Ä—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è —Å –¥–∞—Ç—á–∏–∫–∞:
- `T` (¬∞C) - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
- `Œ∏` (%) - –≤–ª–∞–∂–Ω–æ—Å—Ç—å
- `EC_raw` (–º–∫–°–º/—Å–º) - —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å
- `pH_raw` - –∫–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç—å
- `N_raw`, `P_raw`, `K_raw` (–º–≥/–∫–≥) - —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 2. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è EC (—ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å)
```python
EC_temp = EC_raw / [1 + 0.019 * (T - 25)]          # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
EC_final = EC_temp * (45 / Œ∏)                       # –í–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (Œ∏ > 20%)
```

### 3. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è pH
```python
pH_temp = pH_raw - 0.003 * (T - 25)                 # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
pH_final = pH_temp + 0.02 * (50 - Œ∏)                # –í–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
```

### 4. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è NPK (–∞–∑–æ—Ç, —Ñ–æ—Å—Ñ–æ—Ä, –∫–∞–ª–∏–π)
```python
# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
N_temp = N_raw * [1 - 0.0025 * (T - 25)]
P_temp = P_raw * [1 - 0.003 * (T - 25)]
K_temp = K_raw * [1 - 0.0018 * (T - 25)]

# –í–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
N_Œ∏ = N_temp / [1 + 0.015 * (Œ∏ - 45)]
P_Œ∏ = P_temp / [1 + 0.022 * (Œ∏ - 40)]
K_Œ∏ = K_temp / [1 + 0.012 * (Œ∏ - 50)]

# –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ EC_final
N_ec = N_Œ∏ * (1 - 0.0001 * EC_final)
P_ec = P_Œ∏ * (1 - 0.00015 * EC_final)
K_ec = K_Œ∏ * (1 - 0.00008 * EC_final)

# –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ pH_final
N_final = N_ec  # –ê–∑–æ—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç pH
P_final = P_ec * (0.65 if pH_final < 5.5 else 1.0)  # –ö–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç—å ‚Üì –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å P
K_final = K_ec * (0.8 if pH_final > 7.5 else 1.0)   # –©–µ–ª–æ—á–Ω–æ—Å—Ç—å ‚Üì –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å K
```

## üåø –ü—Ä–æ—Ñ–∏–ª–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è

### –ü—Ä–æ—Ñ–∏–ª—å –ê: –¢–µ–ø–ª–∏—Ü–∞ (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è —Å—Ä–µ–¥–∞)
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –í—ã—Å–æ–∫–∞—è —Å–æ–ª—ë–Ω–æ—Å—Ç—å, —Ä–µ–∑–∫–∏–µ –ø–µ—Ä–µ–ø–∞–¥—ã –≤–ª–∞–∂–Ω–æ—Å—Ç–∏, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏

#### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –¥–ª—è —Ç–µ–ø–ª–∏—Ü:
```python
# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (—É—Å–∏–ª–µ–Ω–Ω—ã–µ)
K_TEMP_EC_GREENHOUSE = 0.021      # vs 0.019 –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞
K_TEMP_N_GREENHOUSE = 0.0028      # vs 0.0025
K_TEMP_P_GREENHOUSE = 0.0032      # vs 0.003
K_TEMP_K_GREENHOUSE = 0.002       # vs 0.0018

# –í–ª–∞–∂–Ω–æ—Å—Ç–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
K_HUMIDITY_PH_GREENHOUSE = 0.025  # vs 0.02 –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞
K_HUMIDITY_N_GREENHOUSE = 0.018   # vs 0.015
K_HUMIDITY_P_GREENHOUSE = 0.025   # vs 0.022
K_HUMIDITY_K_GREENHOUSE = 0.015   # vs 0.012

# EC-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è (—É—Å–∏–ª–µ–Ω–Ω–∞—è –¥–ª—è –∑–∞—Å–æ–ª–µ–Ω–∏—è)
K_EC_N_GREENHOUSE = 0.00025       # vs 0.0001 –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞  
K_EC_P_GREENHOUSE = 0.00025       # vs 0.00015
K_EC_K_GREENHOUSE = 0.00012       # vs 0.00008
```

#### –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –¥–ª—è —Ç–µ–ø–ª–∏—Ü:
```python
def greenhouse_correction(T, theta, EC_raw, pH_raw, N_raw, P_raw, K_raw, month):
    # 1. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
    T_limited = min(T, 45)  # –≠–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è –≤—ã—à–µ 45¬∞C –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–∞
    
    # 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å –±–µ–∑ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
    theta_current = theta
    
    # 3. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è EC —Å —Ç–µ–ø–ª–∏—á–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏
    EC_temp = EC_raw / (1 + K_TEMP_EC_GREENHOUSE * (T_limited - 25))
    EC_final = EC_temp * (45 / theta_current) if theta_current > 20 else EC_temp
    
    # 4. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è pH
    pH_temp = pH_raw - 0.003 * (T_limited - 25)
    pH_final = pH_temp + K_HUMIDITY_PH_GREENHOUSE * (50 - theta_current)
    
    # 5. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è NPK —Å —É—Å–∏–ª–µ–Ω–Ω–æ–π EC-–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π
    N_temp = N_raw * (1 - K_TEMP_N_GREENHOUSE * (T_limited - 25))
    P_temp = P_raw * (1 - K_TEMP_P_GREENHOUSE * (T_limited - 25))
    K_temp = K_raw * (1 - K_TEMP_K_GREENHOUSE * (T_limited - 25))
    
    N_theta = N_temp / (1 + K_HUMIDITY_N_GREENHOUSE * (theta_current - 45))
    P_theta = P_temp / (1 + K_HUMIDITY_P_GREENHOUSE * (theta_current - 40))
    K_theta = K_temp / (1 + K_HUMIDITY_K_GREENHOUSE * (theta_current - 50))
    
    N_ec = N_theta * (1 - K_EC_N_GREENHOUSE * EC_final)
    P_ec = P_theta * (1 - K_EC_P_GREENHOUSE * EC_final)
    K_ec = K_theta * (1 - K_EC_K_GREENHOUSE * EC_final)
    
    # 6. pH-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π –∫–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç–∏
    N_final = N_ec * (1.1 if pH_final < 6.0 else 1.0)  # +10% –ø—Ä–∏ –∫–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç–∏
    P_final = P_ec * (0.65 if pH_final < 5.5 else 1.0)
    K_final = K_ec * (0.8 if pH_final > 7.5 else 1.0)
    
    # 7. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –∑–∞—Å–æ–ª–µ–Ω–∏—è (EC > 3000)
    if EC_final > 3000:
        K_final *= 0.85  # –ø–æ–ø—Ä–∞–≤–∫–∞ –Ω–∞ –∏–º–º–æ–±–∏–ª–∏–∑–∞—Ü–∏—é –∏–æ–Ω–æ–≤
    
    return EC_final, pH_final, N_final, P_final, K_final


```

### –ü—Ä–æ—Ñ–∏–ª—å –ë: –û—Ç–∫—Ä—ã—Ç—ã–π –≥—Ä—É–Ω—Ç (–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ä–µ–¥–∞)
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –í–ª–∏—è–Ω–∏–µ –æ—Å–∞–¥–∫–æ–≤, –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã, —Å–µ–∑–æ–Ω–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è

#### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞:
```python
# –ë–∞–∑–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ)
K_TEMP_EC_FIELD = 0.019
K_TEMP_N_FIELD = 0.0025
K_TEMP_P_FIELD = 0.003
K_TEMP_K_FIELD = 0.0018

# –°–µ–∑–æ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
def get_seasonal_coefficients(month):
    """–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ–∑–æ–Ω–∞"""
    rainy_months = [4, 5, 6, 10]  # –ê–ø—Ä–µ–ª—å, –º–∞–π, –∏—é–Ω—å, –æ–∫—Ç—è–±—Ä—å
    
    if month in rainy_months:
        return {
            'k_ec_temp': 0.015,    # –¥–ª—è —Ç–æ—Ä—Ñ–∞ –≤ –¥–æ–∂–¥–ª–∏–≤—ã–π –ø–µ—Ä–∏–æ–¥
            'k_humidity_factor': 1.2  # —É—Å–∏–ª–µ–Ω–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
        }
    else:
        return {
            'k_ec_temp': 0.022,    # –¥–ª—è —Å—É—Ö–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
            'k_humidity_factor': 1.0
        }
```

#### –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞:
```python
def field_correction(T, theta, EC_raw, pH_raw, N_raw, P_raw, K_raw, month, soil_type):
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏
    if theta < 25:
        raise ValueError("–ó–∞–º–µ—Ä—ã –ø—Ä–∏ Œ∏ < 25% –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã (–ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å NPK > 30%)")
    
    # 2. –°–µ–∑–æ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
    seasonal_coeff = get_seasonal_coefficients(month)
    
    # 3. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–∞ –ø–æ—á–≤—ã
    soil_coeffs = get_soil_coefficients(soil_type)
    
    # 4. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è EC
    k_ec_temp = seasonal_coeff['k_ec_temp']
    EC_temp = EC_raw / (1 + k_ec_temp * (T - 25))
    EC_final = EC_temp * (45 / theta)
    
    # 5. pH –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Å —Å–µ–∑–æ–Ω–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π
    pH_temp = pH_raw - soil_coeffs['k_ph_temp'] * (T - 25)
    humidity_factor = seasonal_coeff['k_humidity_factor']
    pH_final = pH_temp + 0.018 * humidity_factor * (50 - theta)
    
    # 6. NPK –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
    N_temp = N_raw * (1 - soil_coeffs['k_n_temp'] * (T - 25))
    P_temp = P_raw * (1 - soil_coeffs['k_p_temp'] * (T - 25))
    K_temp = K_raw * (1 - soil_coeffs['k_k_temp'] * (T - 25))
    
    N_theta = N_temp / (1 + soil_coeffs['k_n_humidity'] * (theta - 45))
    P_theta = P_temp / (1 + soil_coeffs['k_p_humidity'] * (theta - 40))
    K_theta = K_temp / (1 + soil_coeffs['k_k_humidity'] * (theta - 50))
    
    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è EC-–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
    N_final = N_theta * (1 - 0.0001 * EC_final)
    P_final = P_theta * (1 - 0.00015 * EC_final)
    K_final = K_theta * (1 - 0.00008 * EC_final)
    
    # pH-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è
    P_final *= (0.65 if pH_final < 5.5 else 1.0)
    K_final *= (0.8 if pH_final > 7.5 else 1.0)
    
    return EC_final, pH_final, N_final, P_final, K_final

def get_soil_coefficients(soil_type):
    """–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ—á–≤"""
    coefficients = {
        '–ø–µ—Å–æ–∫': {
            'k_ph_temp': -0.002,
            'k_n_temp': 0.0030,
            'k_p_temp': 0.0035,
            'k_k_temp': 0.0020,
            'k_n_humidity': 0.020,
            'k_p_humidity': 0.028,
            'k_k_humidity': 0.015
        },
        '–≥–ª–∏–Ω–∞': {
            'k_ph_temp': -0.004,
            'k_n_temp': 0.0022,
            'k_p_temp': 0.0028,
            'k_k_temp': 0.0015,
            'k_n_humidity': 0.012,
            'k_p_humidity': 0.020,
            'k_k_humidity': 0.010
        },
        '—Ç–æ—Ä—Ñ': {
            'k_ph_temp': -0.003,
            'k_n_temp': 0.0028,
            'k_p_temp': 0.0032,
            'k_k_temp': 0.0018,
            'k_n_humidity': 0.018,
            'k_p_humidity': 0.025,
            'k_k_humidity': 0.013
        }
    }
    
    return coefficients.get(soil_type, coefficients['–≥–ª–∏–Ω–∞'])  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–ª–∏–Ω–∞
```



## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–µ–ø–ª–∏—Ü–∞ | –û—Ç–∫—Ä—ã—Ç—ã–π –≥—Ä—É–Ω—Ç | –†–∞–∑–Ω–∏—Ü–∞ | –ü—Ä–∏—á–∏–Ω–∞ |
|----------|---------|----------------|---------|---------|
| **EC: k_temp** | 0.021 | 0.019 | +10.5% | –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –∑–∞—Å–æ–ª–µ–Ω–∏–µ –≤ —Ç–µ–ø–ª–∏—Ü–∞—Ö |
| **pH: k_humidity** | 0.025 | 0.018 | +38.9% | –†–µ–∑–∫–∏–µ –ø–µ—Ä–µ–ø–∞–¥—ã –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ |
| **N: k_EC** | 0.00025 | 0.0001 | +150% | –í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Å–æ–ª–µ–π |
| **P: k_EC** | 0.00025 | 0.00015 | +66.7% | –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Ñ–æ—Å—Ñ–æ—Ä–∞ –ø—Ä–∏ –∑–∞—Å–æ–ª–µ–Ω–∏–∏ |
| **K: k_EC** | 0.00012 | 0.00008 | +50% | –ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∏–æ–Ω–æ–≤ K+ –∏ Na+ |

## üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –¢–µ–ø–ª–∏—Ü–∞ (–≤—ã—Å–æ–∫–æ–µ –∑–∞—Å–æ–ª–µ–Ω–∏–µ)
**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: `T=33¬∞C`, `Œ∏=65%`, `EC_raw=3800`, `pH_raw=7.9`, `N_raw=85`, `P_raw=30`, `K_raw=95`

```python
# –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–ø–ª–∏—á–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é
T_limited = min(33, 45)  # = 33¬∞C
theta_current = 65  # —Ç–µ–∫—É—â–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å

# EC –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
EC_temp = 3800 / (1 + 0.021 * (33-25)) = 3800 / 1.168 = 3253 –º–∫–°–º/—Å–º
EC_final = 3253 * (45/65) = 2252 –º–∫–°–º/—Å–º

# pH –∫–æ—Ä—Ä–µ–∫—Ü–∏—è  
pH_temp = 7.9 - 0.003 * (33-25) = 7.9 - 0.024 = 7.876
pH_final = 7.876 + 0.025 * (50-65) = 7.876 - 0.375 = 7.501

# NPK –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
N_temp = 85 * (1 - 0.0028 * 8) = 85 * 0.9776 = 83.1
N_theta = 83.1 / (1 + 0.018 * (65-45)) = 83.1 / 1.36 = 61.1
N_final = 61.1 * (1 - 0.00025 * 2252) = 61.1 * 0.437 = 26.7 –º–≥/–∫–≥

P_temp = 30 * (1 - 0.0032 * 8) = 30 * 0.9744 = 29.2
P_theta = 29.2 / (1 + 0.025 * (65-40)) = 29.2 / 1.625 = 18.0
P_final = 18.0 * (1 - 0.00025 * 2252) = 18.0 * 0.437 = 7.9 –º–≥/–∫–≥

K_temp = 95 * (1 - 0.002 * 8) = 95 * 0.984 = 93.5
K_theta = 93.5 / (1 + 0.015 * (65-50)) = 93.5 / 1.225 = 76.3
K_ec = 76.3 * (1 - 0.00012 * 2252) = 76.3 * 0.73 = 55.7
K_final = 55.7 * 1.0 = 55.7 –º–≥/–∫–≥ (pH=7.501 < 7.5)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ–ø–ª–∏—Ü—ã**: N=26.7, P=7.9, K=55.7 –º–≥/–∫–≥

### –ü—Ä–∏–º–µ—Ä 2: –û—Ç–∫—Ä—ã—Ç—ã–π –≥—Ä—É–Ω—Ç (—Ç–µ –∂–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
```python
# –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –¥–ª—è –≥–ª–∏–Ω–∏—Å—Ç–æ–π –ø–æ—á–≤—ã
EC_temp = 3800 / (1 + 0.019 * 8) = 3800 / 1.152 = 3298 –º–∫–°–º/—Å–º
EC_final = 3298 * (45/65) = 2283 –º–∫–°–º/—Å–º

N_temp = 85 * (1 - 0.0022 * 8) = 85 * 0.9824 = 83.5
N_theta = 83.5 / (1 + 0.012 * (65-45)) = 83.5 / 1.24 = 67.3
N_final = 67.3 * (1 - 0.0001 * 2283) = 67.3 * 0.772 = 52.0 –º–≥/–∫–≥
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞**: N=52.0 –º–≥/–∫–≥

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ**: –†–∞–∑–Ω–∏—Ü–∞ –≤ –ø–æ–∫–∞–∑–∞–Ω–∏—è—Ö –∞–∑–æ—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 94.8% (52.0 vs 26.7)! –≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –≤–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.

## ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

### –î–ª—è —Ç–µ–ø–ª–∏—Ü:
1. **–í—Ä–µ–º—è –∑–∞–º–µ—Ä–æ–≤**: 7:00 —É—Ç—Ä–∞ (—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ T/Œ∏ –ø–æ—Å–ª–µ –Ω–æ—á–∏)
2. **–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**: –ü—Ä–æ–º—ã–≤–∫–∞ —â—É–ø–æ–≤ –æ—Ç —Å–æ–ª–µ–π –∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏
3. **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞**: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ —Ä–∞—Å—Ç–≤–æ—Ä–∞–º–∏
4. **–ö—Ä–∏—Ç–µ—Ä–∏–π –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏**: –û—Ç–±—Ä–∞–∫–æ–≤–∫–∞ –ø—Ä–∏ EC > 8000 –º–∫–°–º/—Å–º

### –î–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞:
1. **–£—Å–ª–æ–≤–∏—è –∑–∞–º–µ—Ä–æ–≤**: –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ 12 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –¥–æ–∂–¥—è
2. **–ì–ª—É–±–∏–Ω–∞**: 15-20 —Å–º (–∫–æ—Ä–Ω–µ–≤–∞—è –∑–æ–Ω–∞)
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: Œ∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 25%

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –æ–±–µ–∏—Ö —Å—Ä–µ–¥:
```python
# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
if T < 5 or T > 40:
    # –ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å >25%. –ü–µ—Ä–µ–Ω–æ—Å –∏–∑–º–µ—Ä–µ–Ω–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
    
# –í–ª–∞–∂–Ω–æ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è  
if Œ∏ < 20:
    # –ò–∑–º–µ—Ä–µ–Ω–∏—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã! –¢—Ä–µ–±—É–µ—Ç—Å—è —É–≤–ª–∞–∂–Ω–µ–Ω–∏–µ –ø–æ—á–≤—ã
    
# –ó–∞—Å–æ–ª–µ–Ω–∏–µ
if EC > 8000:
    # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞—Å–æ–ª–µ–Ω–∏–µ - –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞
```

## üìä –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –æ—Ç —Ç–∏–ø–∞ –ø–æ—á–≤—ã

### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–π –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ (k‚ÇÅ)
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–µ—Å—á–∞–Ω–∞—è –ø–æ—á–≤–∞ | –ì–ª–∏–Ω–∏—Å—Ç–∞—è –ø–æ—á–≤–∞ | –¢–æ—Ä—Ñ—è–Ω–∏–∫ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö |
|----------|----------------|-----------------|----------|-----------------|
| **EC**   | 0.022‚Äì0.025   | 0.018‚Äì0.020     | 0.015‚Äì0.017 | [–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è FAO] |
| **N**    | 0.0030         | 0.0022          | 0.0028   | [University of Nebraska] |
| **P**    | 0.0035         | 0.0028          | 0.0032   | [Niubol Sensor] |
| **K**    | 0.0020         | 0.0015          | 0.0018   | [Niubol Sensor] |
| **pH**   | -0.002         | -0.004          | -0.003   | [DzagiGrow] |

**–ü–æ—è—Å–Ω–µ–Ω–∏—è**:
- –î–ª—è **EC**: –í—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–µ—Å–∫–∞—Ö —Å–≤—è–∑–∞–Ω—ã —Å –±—ã—Å—Ç—Ä—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∏–æ–Ω–Ω–æ–π –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –Ω–∞–≥—Ä–µ–≤–µ
- –î–ª—è **pH**: –ë–æ–ª–µ–µ —Å–∏–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –≥–ª–∏–Ω–∞—Ö –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–æ –≤—ã—Å–æ–∫–æ–π –±—É—Ñ–µ—Ä–Ω–æ–π —ë–º–∫–æ—Å—Ç—å—é

### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≤–ª–∞–∂–Ω–æ—Å—Ç–Ω–æ–π –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ (k‚ÇÇ)
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–µ—Å—á–∞–Ω–∞—è –ø–æ—á–≤–∞ | –ì–ª–∏–Ω–∏—Å—Ç–∞—è –ø–æ—á–≤–∞ | –¢–æ—Ä—Ñ—è–Ω–∏–∫ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|----------|----------------|-----------------|----------|------------|
| **EC**   | 0.25‚Äì0.30      | 0.15‚Äì0.18       | 0.20‚Äì0.22 | –§–æ—Ä–º—É–ª–∞: `EC_–∫–æ—Ä—Ä = EC_raw √ó (45/Œ∏)`  |
| **N**    | 0.020          | 0.012           | 0.018    | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∫–∏  |
| **P**    | 0.028          | 0.020           | 0.025    | –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –∑–∞—Å–æ–ª–µ–Ω–Ω–æ—Å—Ç–∏  |
| **K**    | 0.015          | 0.010           | 0.013    | –í–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–º–æ—Ç–∏—á–µ—Å–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ  |

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞ –¥–ª—è EC –≤ –ø–µ—Å–∫–µ**:
```math
EC_{\text{–∫–æ—Ä—Ä}} = EC_{\text{—Å—ã—Ä}} \times \left[1 + 0.024 \times (T-25)\right] \times \frac{45}{\theta}
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ—á–≤

1. **–ü–µ—Å—á–∞–Ω—ã–µ –ø–æ—á–≤—ã**:
   - **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–∏–∑–∫–∞—è –∫–∞—Ç–∏–æ–Ω–æ–æ–±–º–µ–Ω–Ω–∞—è —ë–º–∫–æ—Å—Ç—å (–ö–û–ï < 5 –º—ç–∫–≤/100–≥) ‚Üí –±—ã—Å—Ç—Ä—ã–π –¥—Ä–µ–π—Ñ –ø–æ–∫–∞–∑–∞–Ω–∏–π
   - **–†–µ—à–µ–Ω–∏–µ**: –ö–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ Œ∏=30‚Äì40% –∏ T=20‚Äì30¬∞C. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ø—Ä–∞–≤–∫—É –Ω–∞ –∑–∞—Å–æ–ª–µ–Ω–Ω–æ—Å—Ç—å:  
     `K_–∫–æ—Ä—Ä = K_–∏–∑–º √ó [1 - 0.00015 √ó EC]`

2. **–ì–ª–∏–Ω–∏—Å—Ç—ã–µ –ø–æ—á–≤—ã**:
   - **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ã—Å–æ–∫–∞—è –ö–û–ï (>25 –º—ç–∫–≤/100–≥) ‚Üí –≤–ª–∏—è–Ω–∏–µ pH –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å P
   - **–†–µ—à–µ–Ω–∏–µ**: –í–≤–æ–¥–∏—Ç—å pH-–∑–∞–≤–∏—Å–∏–º—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –¥–ª—è P:  
     ```python
     if pH > 7.5: P_–∫–æ—Ä—Ä = P_–∏–∑–º √ó 0.75  # –§–æ—Å—Ñ–æ—Ä —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –≤ —â–µ–ª–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ
     ```

3. **–¢–æ—Ä—Ñ—è–Ω–∏–∫–∏**:
   - **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ã—Å–æ–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∫–∏ (–¥–æ 80%) ‚Üí –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å NPK –¥–æ 30%
   - **–†–µ—à–µ–Ω–∏–µ**: –§–æ—Ä–º—É–ª–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏:  
     `N_–∫–æ—Ä—Ä = N_–∏–∑–º / [1 + 0.025 √ó (Œ∏ - 50)]`

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω**:  
  –î–ª—è –≥–ª–∏–Ω –∏ —Ç–æ—Ä—Ñ–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–∏ T<5¬∞C –¥–∞—é—Ç –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –¥–æ 25% –∏–∑-–∑–∞ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è –∏–æ–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞
- **–í–ª–∞–∂–Ω–æ—Å—Ç—å**:  
  –ü—Ä–∏ Œ∏<20% –≤ –ø–µ—Å–∫–∞—Ö EC —Ç–µ—Ä—è–µ—Ç –ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å, –ø—Ä–∏ Œ∏>70% –≤ –≥–ª–∏–Ω–∞—Ö –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –∞–Ω–∞—ç—Ä–æ–±–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞

### –ú–µ—Ç–æ–¥—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
1. **–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**:
   - –í–∑—è—Ç—å –æ–±—Ä–∞–∑–µ—Ü –ø–æ—á–≤—ã, –¥–æ–≤–µ—Å—Ç–∏ –¥–æ Œ∏=45%, T=25¬∞C
   - –ò–∑–º–µ—Ä–∏—Ç—å —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è NPK/EC –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
   - –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø–æ–∫–∞–∑–∞–Ω–∏—è–º–∏ –¥–∞—Ç—á–∏–∫–∞, –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–Ω–æ–∂–∏—Ç–µ–ª–∏

2. **–ü–æ–ª–µ–≤—ã–µ —Ç–µ—Å—Ç—ã**:
   ```python
   # –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
   if soil_type == "–ø–µ—Å–æ–∫":
     k_ec_temp = 0.024
   elif soil_type == "–≥–ª–∏–Ω–∞":
     k_ec_temp = 0.019
   ```

–î–ª—è —Ç–æ—á–Ω—ã—Ö —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ø—Ä–∞–≤–∫–∏, —É—á–∏—Ç—ã–≤–∞—é—â–∏–µ **—Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**:  
`NPK_—Ñ–∏–Ω–∞–ª = NPK_–∏–∑–º √ó [1 - k‚ÇÅ(T-25)] √ó [1 - k‚ÇÇ(Œ∏ - Œ∏_–æ–ø—Ç)] √ó [1 - k‚ÇÉ√óEC]`  
–ì–¥–µ `Œ∏_–æ–ø—Ç` = 40% –¥–ª—è –≥–ª–∏–Ω, 45% –¥–ª—è –ø–µ—Å–∫–æ–≤, 50% –¥–ª—è —Ç–æ—Ä—Ñ–∞

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### 1. –î–∏–∞–ø–∞–∑–æ–Ω—ã
```python
if Œ∏ < 20: 
    # –ò–∑–º–µ—Ä–µ–Ω–∏—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã! –¢—Ä–µ–±—É–µ—Ç—Å—è —É–≤–ª–∞–∂–Ω–µ–Ω–∏–µ –ø–æ—á–≤—ã
if T < 5 or T > 40:
    # –ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å >25%. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–æ—Å –∏–∑–º–µ—Ä–µ–Ω–∏–π
```

### 2. –ü–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π
```
EC ‚Üí pH ‚Üí NPK
```

## üìù –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞

### –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
`T = 30¬∞C`, `Œ∏ = 35%`, `EC_raw = 1200`, `pH_raw = 6.8`, `N_raw = 150`, `P_raw = 45`, `K_raw = 120`

### –®–∞–≥ 1. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è EC
```python
EC_temp = 1200 / [1 + 0.019*(30-25)] = 1200 / 1.095 ‚âà 1096 –º–∫–°–º/—Å–º
EC_final = 1096 * (45/35) ‚âà 1409 –º–∫–°–º/—Å–º
```

### –®–∞–≥ 2. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è pH
```python
pH_temp = 6.8 - 0.003*(30-25) = 6.8 - 0.015 = 6.785
pH_final = 6.785 + 0.02*(50-35) = 6.785 + 0.3 = 7.085
```

### –®–∞–≥ 3. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è NPK
```python
# –ê–∑–æ—Ç (N)
N_temp = 150 * [1 - 0.0025*5] = 150 * 0.9875 ‚âà 148.1
N_Œ∏ = 148.1 / [1 + 0.015*(35-45)] = 148.1 / 0.85 ‚âà 174.2
N_final = 174.2 * (1 - 0.0001*1409) ‚âà 174.2 * 0.859 ‚âà 149.7 –º–≥/–∫–≥

# –§–æ—Å—Ñ–æ—Ä (P)
P_temp = 45 * [1 - 0.003*5] = 45 * 0.985 ‚âà 44.3
P_Œ∏ = 44.3 / [1 + 0.022*(35-40)] = 44.3 / 0.89 ‚âà 49.8
P_ec = 49.8 * (1 - 0.00015*1409) ‚âà 49.8 * 0.789 ‚âà 39.3
P_final = 39.3 * 1.0 (—Ç.–∫. pH=7.085 > 5.5) = 39.3 –º–≥/–∫–≥

# –ö–∞–ª–∏–π (K)
K_temp = 120 * [1 - 0.0018*5] = 120 * 0.991 ‚âà 118.9
K_Œ∏ = 118.9 / [1 + 0.012*(35-50)] = 118.9 / 0.82 ‚âà 145.0
K_ec = 145.0 * (1 - 0.00008*1409) ‚âà 145.0 * 0.887 ‚âà 128.6
K_final = 128.6 * 1.0 (—Ç.–∫. pH=7.085 < 7.5) = 128.6 –º–≥/–∫–≥
```

## üìå –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã** (`0.019`, `0.0025` –∏ –¥—Ä.) –≤–∑—è—Ç—ã –∏–∑ —É—Å—Ä–µ–¥–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π. –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–æ—á–≤—ã (–ø–µ—Å—á–∞–Ω–∞—è, –≥–ª–∏–Ω–∏—Å—Ç–∞—è, —Ç–æ—Ä—Ñ—è–Ω–∏–∫) –∏—Ö –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω—è—Ç—å.

2. **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞**:  
   –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≤–µ–¥–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –∑–∞–º–µ—Ä –ø—Ä–∏ `T=25¬∞C`, `Œ∏=45%` —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ä–∞—Å—Ç–≤–æ—Ä–æ–º.

3. **–í–∑–∞–∏–º–æ–≤–ª–∏—è–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**:  
   –§–æ—Ä–º—É–ª—ã —É—á–∏—Ç—ã–≤–∞—é—Ç:
   - –ü—Ä—è–º–æ–µ –≤–ª–∏—è–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ –∏–æ–Ω–Ω—É—é –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å
   - –í–ª–∏—è–Ω–∏–µ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç –¥–∞—Ç—á–∏–∫–∞ —Å –ø–æ—á–≤–æ–π
   - –ö–æ—Å–≤–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ EC –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å NPK-—Å–µ–Ω—Å–æ—Ä–∞
   - –•–∏–º–∏—á–µ—Å–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Ä–∞–∑–Ω–æ–º pH

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:  
   –§–æ—Ä–º—É–ª—ã –¥–∞—é—Ç –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å ¬±5-15% –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ:  
   `10¬∞C ‚â§ T ‚â§ 35¬∞C`, `30% ‚â§ Œ∏ ‚â§ 70%`, `EC < 5000 –º–∫–°–º/—Å–º`.

5. **–ü—Ä–æ—Ñ–∏–ª–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏**:
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ–ø–ª–∏—Ü –∏ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥—Ä—É–Ω—Ç–∞. –ë–µ–∑ —É—á–µ—Ç–∞ —Å—Ä–µ–¥—ã –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å 95%!

–î–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ –æ–±—Ä–∞–∑—Ü–∞–º!

---

## üöÄ –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç

**–•–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏?**  
–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É—á–µ—Ç–æ–º:
- –°–µ–∑–æ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫  
- –ü–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- –¢–∏–ø–∞ –ø–æ—á–≤—ã –∏ —Å—Ä–µ–¥—ã –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è

üëâ **[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏](CALIBRATION_WEB_INTERFACE.md)** 