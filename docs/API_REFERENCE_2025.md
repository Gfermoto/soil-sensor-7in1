# üåê API –°–ü–†–ê–í–û–ß–ù–ò–ö: JXCT Soil Sensor v2.2.0

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 11 –∏—é–Ω—è 2025  
**–í–µ—Ä—Å–∏—è API:** 1.0  
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ  
**–ü—Ä–æ—Ç–æ–∫–æ–ª:** HTTP/1.1

---

## üìä –û–ë–ó–û–† API

JXCT Soil Sensor –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

### **–ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** HTTP (–ø–æ—Ä—Ç 80)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ—Å—Ç–∞—è –ø–∞—Ä–æ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** JSON + HTML
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8
- **CORS:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π

### **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API:**
- ‚úÖ **STA Mode** (–∫–ª–∏–µ–Ω—Ç WiFi) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º endpoints
- ‚ö†Ô∏è **AP Mode** (—Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞) - —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –±–∞–∑–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

---

## üîê –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø

### **–ú–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
- **–¢–∏–ø:** Form-based authentication
- **–û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è:** –¢–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∏—Ö API
- **Bypass:** –°—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints:**
- `GET /` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `POST /save` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### **–û—Ç–∫—Ä—ã—Ç—ã–µ endpoints:**
- `GET /readings` - –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞
- `GET /service` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `GET /health` - —Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `GET /api/sensor` - JSON API –¥–∞—Ç—á–∏–∫–∞

### **–ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
```bash
# –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç —Ñ–æ—Ä–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
curl http://192.168.1.100/

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ POST
curl -X POST http://192.168.1.100/ \
  -d "auth_password=your_password"
```

---

## üìã –û–°–ù–û–í–ù–´–ï ENDPOINTS

### **GET / - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã.

**URL:** `http://device_ip/`  
**–ú–µ—Ç–æ–¥:** GET, POST  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä–æ–ª—å)  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** HTML

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã GET:**
- `auth_password` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–∞—Ä–æ–ª—å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç:**
- **200 OK** - HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **200 OK** - HTML —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π)

---

### **GET /readings - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–∞**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å live –¥–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–∞.

**URL:** `http://device_ip/readings`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** HTML —Å JavaScript –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Auto-refresh –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**–û—Ç–≤–µ—Ç:**
```html
<!-- HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–∞ -->
<!-- JavaScript –¥–ª—è AJAX –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π -->
```

---

### **GET /service - –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã.

**URL:** `http://device_ip/service`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** HTML

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:**
- –°—Ç–∞—Ç—É—Å WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –°–æ—Å—Ç–æ—è–Ω–∏–µ MQTT –∫–ª–∏–µ–Ω—Ç–∞
- –°—Ç–∞—Ç—É—Å ThingSpeak –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞—Ç—á–∏–∫–µ
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

---

## üîå JSON API ENDPOINTS

### **GET /health - –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–∏—Å—Ç–µ–º–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ.

**URL:** `http://device_ip/health`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** JSON

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "device": {
    "manufacturer": "Eyera",
    "model": "JXCT-7in1",  
    "version": "2.2.0",
    "build_date": "2025-06-10"
  },
  "memory": {
    "free_heap": 228732,
    "largest_block": 118772,
    "heap_size": 327680,
    "flash_used": 876701,
    "flash_total": 4194304
  },
  "wifi": {
    "connected": true,
    "mode": "STA",
    "ssid": "MyWiFi",
    "ip": "192.168.1.100", 
    "rssi": -63,
    "channel": 6
  },
  "services": {
    "mqtt": {
      "enabled": true,
      "connected": true,
      "server": "mqtt.local",
      "port": 1883,
      "last_error": ""
    },
    "thingspeak": {
      "enabled": true,
      "last_publish": "2025-06-11T15:30:00Z",
      "last_error": ""
    },
    "homeassistant": {
      "enabled": true
    }
  },
  "sensor": {
    "enabled": true,
    "valid": true,
    "last_read": "2025-06-11T15:30:15Z",
    "last_error": ""
  },
  "uptime": 86400,
  "timestamp": "2025-06-11T15:30:15Z",
  "boot_time": "2025-06-10T15:30:15Z"
}
```

---

### **GET /api/sensor - –î–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∞**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞.

**URL:** `http://device_ip/api/sensor`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** JSON

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "temperature": 23.7,
  "humidity": 54.4,
  "ec": 1200,
  "ph": 6.8,
  "nitrogen": 15,
  "phosphorus": 8,
  "potassium": 20,
  "timestamp": 1717920000,
  "valid": true,
  "last_update": 1717920000,
  "sensor_enabled": true
}
```

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:**
```json
{
  "error": "Sensor read timeout",
  "valid": false,
  "last_update": 1717919900,
  "sensor_enabled": true
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- **200 OK** - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- **500 Internal Server Error** - –æ—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞
- **503 Service Unavailable** - –¥–∞—Ç—á–∏–∫ –æ—Ç–∫–ª—é—á–µ–Ω

---

### **GET /sensor_json - AJAX endpoint**
Lightweight endpoint –¥–ª—è AJAX –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**URL:** `http://device_ip/sensor_json`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** JSON (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "t": 23.7,
  "h": 54.4, 
  "e": 1200,
  "p": 6.8,
  "n": 15,
  "ph": 8,
  "k": 20,
  "v": true,
  "ts": 1717920000
}
```

---

### **GET /service_status - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è AJAX –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

**URL:** `http://device_ip/service_status`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** JSON

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "wifi_connected": true,
  "wifi_ip": "192.168.1.100",
  "wifi_ssid": "MyWiFi",
  "wifi_rssi": -63,
  "mqtt_enabled": true,
  "mqtt_connected": true,
  "mqtt_last_error": "",
  "thingspeak_enabled": true,
  "thingspeak_last_pub": "2025-06-11T15:30:00Z",
  "thingspeak_last_error": "",
  "hass_enabled": true,
  "sensor_ok": true
}
```

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–û–ù–ù–´–ï ENDPOINTS

### **POST /save - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã.

**URL:** `http://device_ip/save`  
**–ú–µ—Ç–æ–¥:** POST  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è  
**Content-Type:** application/x-www-form-urlencoded

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
# WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ssid=MyWiFi
password=mypassword

# MQTT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  
mqtt_enabled=on
mqtt_server=mqtt.local
mqtt_port=1883
mqtt_user=user
mqtt_password=pass
mqtt_qos=0

# ThingSpeak –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ts_enabled=on
ts_api_key=YOUR_API_KEY
ts_channel_id=123456
ts_interval=60

# Home Assistant
hass_enabled=on

# –î–∞—Ç—á–∏–∫
real_sensor=on

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
web_password=newpassword
```

**–û—Ç–≤–µ—Ç—ã:**
- **302 Found** - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- **403 Forbidden** - –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **400 Bad Request** - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

## üîß –°–õ–£–ñ–ï–ë–ù–´–ï ENDPOINTS

### **GET /status - –ö—Ä–∞—Ç–∫–∏–π —Å—Ç–∞—Ç—É—Å**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã.

**URL:** `http://device_ip/status`  
**–ú–µ—Ç–æ–¥:** GET  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** JSON

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "wifi_mode": "STA",
  "wifi_connected": true,
  "ip": "192.168.1.100"
}
```

---

## üì± –ú–û–ë–ò–õ–¨–ù–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

### **Viewport –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**
–í—Å–µ HTML endpoints –≤–∫–ª—é—á–∞—é—Ç –º–æ–±–∏–ª—å–Ω—É—é –∞–¥–∞–ø—Ç–∞—Ü–∏—é:

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

### **CSS Media queries:**
```css
@media (max-width: 600px) {
  /* –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
  .container { padding: 10px; }
  input, select { width: 100%; }
}
```

---

## üîÑ REAL-TIME –û–ë–ù–û–í–õ–ï–ù–ò–Ø

### **AJAX Pattern:**
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JavaScript –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:

```javascript
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
function updateData() {
  fetch('/sensor_json')
    .then(response => response.json())
    .then(data => {
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
      document.getElementById('temp').textContent = data.t + '¬∞C';
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    })
    .catch(error => {
      showToast('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', 'error');
    });
}

setInterval(updateData, 2000);
```

---

## üö® –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö

### **HTTP –∫–æ–¥—ã –æ—à–∏–±–æ–∫:**
- **200 OK** - —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- **302 Found** - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- **400 Bad Request** - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **403 Forbidden** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **404 Not Found** - endpoint –Ω–µ –Ω–∞–π–¥–µ–Ω
- **500 Internal Server Error** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞  
- **503 Service Unavailable** - —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### **JSON —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫:**
```json
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "code": "ERROR_CODE",
  "timestamp": 1717920000
}
```

---

## üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –í–ù–ï–®–ù–ò–ú–ò –°–ò–°–¢–ï–ú–ê–ú–ò

### **Home Assistant Integration:**
```yaml
# configuration.yaml
sensor:
  - platform: rest
    resource: http://192.168.1.100/api/sensor
    name: "JXCT Soil Sensor"
    json_attributes:
      - temperature
      - humidity
      - ph
      - ec
      - nitrogen
      - phosphorus
      - potassium
    value_template: "{{ value_json.valid }}"
```

### **Node-RED Integration:**
```javascript
// HTTP Request node
var msg = {};
msg.url = "http://192.168.1.100/api/sensor";
msg.method = "GET";
return msg;
```

### **Python Integration:**
```python
import requests
import json

def get_sensor_data(device_ip):
    try:
        response = requests.get(f"http://{device_ip}/api/sensor", timeout=5)
        response.raise_for_status()
        return response.json()
    except requests.exceptions.RequestException as e:
        print(f"Error: {e}")
        return None

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
data = get_sensor_data("192.168.1.100")
if data and data.get("valid"):
    print(f"Temperature: {data['temperature']}¬∞C")
    print(f"Humidity: {data['humidity']}%")
    print(f"pH: {data['ph']}")
```

---

## üîß CURL –ü–†–ò–ú–ï–†–´

### **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–∞:**
```bash
curl -s http://192.168.1.100/api/sensor | jq .
```

### **–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
```bash
curl -s http://192.168.1.100/health | jq .device
```

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
```bash
while true; do
  curl -s http://192.168.1.100/sensor_json | jq '.t, .h, .p'
  sleep 5
done
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MQTT:**
```bash
curl -X POST http://192.168.1.100/save \
  -d "auth_password=mypass" \
  -d "mqtt_enabled=on" \
  -d "mqtt_server=mqtt.local" \
  -d "mqtt_port=1883"
```

---

## üìä –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ API

### **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ (—Ç–∏–ø–∏—á–Ω–æ–µ):**
- `/api/sensor` - 50-100ms
- `/sensor_json` - 20-50ms
- `/health` - 100-200ms
- `/service_status` - 80-150ms

### **Throughput:**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤: 1 –∑–∞–ø—Ä–æ—Å/—Å–µ–∫—É–Ω–¥–∞ –Ω–∞ endpoint
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞: 1 –∑–∞–ø—Ä–æ—Å/2-5 —Å–µ–∫—É–Ω–¥

### **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –î–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∞ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 —Å–µ–∫—É–Ω–¥—É
- –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 5 —Å–µ–∫—É–Ω–¥
- DNS –∑–∞–ø–∏—Å–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 5 –º–∏–Ω—É—Ç

---

## üîÆ –ë–£–î–£–©–ò–ï –í–ï–†–°–ò–ò API

### **v1.1 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v2.3.0):**
- OTA endpoints –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è firmware
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### **v1.2 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v2.4.0):**
- –ò—Å—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö endpoints
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- CSV —ç–∫—Å–ø–æ—Ä—Ç

### **v2.0 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v2.5.0):**
- WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- Webhook —Å–∏—Å—Ç–µ–º–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

---

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** API v1.0 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ JXCT Soil Sensor —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

*API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ 11 –∏—é–Ω—è 2025 –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞* 