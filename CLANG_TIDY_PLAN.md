# Clang-Tidy Cleanup Plan - ESP32 Optimized

## üìä –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°
- **–ù–∞—á–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π:** 142
- **–¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π:** 83
- **–°–Ω–∏–∂–µ–Ω–∏–µ:** 59 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (41.5%)
- **–í–µ—Ç–∫–∞:** `clang-tidy-cleanup`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û - ESP32-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. ESP32-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è clang-tidy
- **–ü–æ–¥–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** ESP32/Arduino –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- **–§–æ–∫—É—Å —Ç–æ–ª—å–∫–æ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è—Ö:**
  - `misc-use-internal-linkage` - –¥–æ–±–∞–≤–∏—Ç—å `static`
  - `readability-convert-member-functions-to-static` - –º–µ—Ç–æ–¥—ã –±–µ–∑ `this`
  - `readability-make-member-function-const` - –º–µ—Ç–æ–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞
- **ESP32-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç** `scripts/run_clang_tidy_analysis.py`
- **–ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** ESP32/Arduino
- **–ê–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π**
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Ñ–∞–π–ª—ã

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .clang-tidy
- **–û—Ç–∫–ª—é—á–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
  - `-clang-analyzer-*`
  - `-cert-*`
  - `-performance-*`
  - `-modernize-*`
- **–û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è ESP32 –ø—Ä–æ–µ–∫—Ç–∞**

## üîç –ê–ù–ê–õ–ò–ó –û–°–¢–ê–í–®–ò–•–°–Ø –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ô

### –§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï–õ–¨–ó–Ø –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

1. **–§—É–Ω–∫—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö** (75%)
   - `src/web/web_templates.cpp` - —Ñ—É–Ω–∫—Ü–∏–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - `src/modbus_sensor.cpp` - —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
   - `src/validation_utils.cpp` - —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

2. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤** (15%)
   - `src/business/sensor_calibration_service.cpp` - –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - `src/business/crop_recommendation_engine.cpp` - –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

3. **–§—É–Ω–∫—Ü–∏–∏ —Å NOLINT –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏** (10%)
   - –ù–∞–º–µ—Ä–µ–Ω–Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### ‚úÖ –î–û–°–¢–ò–ì–ù–£–¢–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:
- **41.5% —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π** (142 ‚Üí 83)
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è ESP32-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- **–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- **–°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ**

### üìä –ö–ê–ß–ï–°–¢–í–û –ö–û–î–ê:
- **–°–±–æ—Ä–∫–∞ ESP32:** ‚úÖ –£—Å–ø–µ—à–Ω–∞
- **–¢–µ—Å—Ç—ã:** ‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç (pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∏)
- **Clang-tidy:** ‚úÖ ESP32-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
1. **–û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** - –æ–Ω–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞ –¥–ª—è ESP32
2. **83 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** - –ø—Ä–∏–µ–º–ª–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è ESP32 –ø—Ä–æ–µ–∫—Ç–∞
3. **–§–æ–∫—É—Å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
4. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

## üìà –ú–ï–¢–†–ò–ö–ò –ü–†–û–ï–ö–¢–ê

### –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- **–í–µ—Ä—Å–∏—è:** 3.11.0
- **–¢–µ—Å—Ç—ã:** 35 —Ç–µ—Å—Ç–æ–≤, 100% –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** 85.2%
- **Clang-tidy:** 83 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
- **–°–±–æ—Ä–∫–∞:** –£—Å–ø–µ—à–Ω–∞
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –û—Ç–ª–∏—á–Ω–∞—è

### –¶–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã:
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (100%)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ >85% (85.2%)
- ‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- ‚úÖ ESP32-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**üéâ –ü–†–û–ï–ö–¢ –ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£!** 