# Clang-Tidy Cleanup Plan

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- **–ù–∞—á–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π:** 142
- **–¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π:** 83
- **–°–Ω–∏–∂–µ–Ω–∏–µ:** 59 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (41.5%)
- **–í–µ—Ç–∫–∞:** `clang-tidy-cleanup`

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã `[[nodiscard]]` –∞—Ç—Ä–∏–±—É—Ç—ã
- `src/web/error_handlers.cpp` - –º–µ—Ç–æ–¥—ã builder pattern
- `src/web/web_templates.cpp` - –º–µ—Ç–æ–¥—ã builder pattern
- `src/validation_utils.cpp` - —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `src/business/crop_recommendation_engine.cpp` - –º–µ—Ç–æ–¥—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- `src/modbus_sensor.cpp` - –º–µ—Ç–æ–¥—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `src/sensor_compensation.cpp` - –º–µ—Ç–æ–¥—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã `static` –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
- `src/web/error_handlers.cpp` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `src/web/web_templates.cpp` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `src/validation_utils.cpp` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### 3. –£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .clang-tidy
- –û—Ç–∫–ª—é—á–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (easily-swappable-parameters, unused-parameters)
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ESP32 –ø—Ä–æ–µ–∫—Ç–æ–º

## üîç –ê–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (83)

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
1. **misc-use-internal-linkage** (–º–Ω–æ–≥–æ) - –¥–æ–±–∞–≤–∏—Ç—å `static` –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º
2. **readability-convert-member-functions-to-static** (–º–Ω–æ–≥–æ) - –º–µ—Ç–æ–¥—ã –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ `this`
3. **readability-make-member-function-const** (–Ω–µ—Å–∫–æ–ª—å–∫–æ) - –º–µ—Ç–æ–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –§–∞–π–ª—ã —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏:
- `src/business_services.cpp` - 3 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `src/calibration_manager.cpp` - 2 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `src/jxct_ui_system.cpp` - 1 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- `src/modbus_sensor.cpp` - 4 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `src/sensor_compensation.cpp` - 8 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- `src/validation_utils.cpp` - 13 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- `src/business/crop_recommendation_engine.cpp` - 18 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- `src/business/sensor_calibration_service.cpp` - 15 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- `src/business/sensor_compensation_service.cpp` - 4 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `src/web/error_handlers.cpp` - 4 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `src/web/web_templates.cpp` - 5 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å `static` –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º (misc-use-internal-linkage)
- –°–¥–µ–ª–∞—Ç—å –º–µ—Ç–æ–¥—ã `const` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ (readability-make-member-function-const)
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –≤ `static` –≥–¥–µ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ `this` (readability-convert-member-functions-to-static)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ê–Ω–∞–ª–∏–∑ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–±–æ—Ä–∫—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

## üìà –¶–µ–ª—å
- –°–Ω–∏–∑–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –¥–æ <50
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å 100% –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—É—é —Å–±–æ—Ä–∫—É ESP32
- –£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- `python scripts/run_clang_tidy_analysis.py` - –∞–Ω–∞–ª–∏–∑ ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- `pio run -e esp32dev` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- `python scripts/ultra_quick_test.py` - –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- `python scripts/run_simple_tests.py` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

## ‚úÖ –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- **Clang-tidy –∞–Ω–∞–ª–∏–∑:** ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–°–±–æ—Ä–∫–∞ ESP32:** ‚úÖ –£—Å–ø–µ—à–Ω–∞
- **–¢–µ—Å—Ç—ã:** ‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ 