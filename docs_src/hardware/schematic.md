---
title: Схема подключения
hide:
  - toc
---

# Схема подключения

## RS-485 соединение

### ESP32 → RS-485 Transceiver (SP3485E)

#### SP3485E (3.3V логика)
| ESP32 GPIO | SP3485E Pin | Тип сигнала | Описание |
|------------|-------------|-------------|-----------| 
| GPIO16     | RO         | Цифровой вход | UART2 RX - прием данных от SP3485E |
| GPIO17     | DI         | Цифровой выход | UART2 TX - передача данных в SP3485E |
| GPIO5      | DE/RE      | Цифровой выход | Управление направлением передачи |
| 3.3V       | VCC        | Питание | Питание модуля SP3485E |
| GND        | GND        | Земля | Общий провод |

#### Преимущества SP3485E:
- ✅ **Питание от 3.3V** - не требует преобразования уровней
- ✅ **Высокая скорость** - до 10 Mbps
- ✅ **Низкое энергопотребление** - всего 300μA в режиме ожидания
- ✅ **Защита от ESD** - до ±15kV HBM
- ✅ **Встроенная защита** от перенапряжения на линии RS-485

### Подключение датчика JXCT

| SP3485E Pin | JXCT Pin | Тип сигнала | Описание |
|-------------|----------|-------------|-----------| 
| A           | A+       | RS-485 A    | Неинвертирующая линия RS-485 |
| B           | B-       | RS-485 B    | Инвертирующая линия RS-485 |

### Питание датчика

| Блок питания | JXCT Pin | Описание |
|--------------|----------|-----------|
| V+           | V+       | 12-24V питание датчика |
| GND          | GND      | Общий провод |

## Важные замечания:

- SP3485E: питается от 3.3V ESP32 (оптимально для ESP32)
- Датчик: требует отдельное питание 12-24V
- Общий провод (GND): соединить все устройства
- Терминирование: резистор 120Ω между A и B на концах линии

## Рекомендации по монтажу:

1. Используйте экранированную витую пару для RS-485
2. Соблюдайте полярность подключения A+ и B-
3. Обеспечьте надежное заземление
4. При длинных линиях используйте терминирующие резисторы 