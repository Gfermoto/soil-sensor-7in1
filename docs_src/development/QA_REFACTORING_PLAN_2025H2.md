---
title: QA & Refactoring Plan H2-2025
---

# üß™ –ü–ª–∞–Ω QA-–∞—É–¥–∏—Ç–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (JXCT H2-2025)

> –í–µ—Ä—Å–∏—è 1.0   |   –î–∞—Ç–∞: 2025-06-21   |   –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ: **QA-Lead**, **Lead Dev**, **Arch**

---

## 1. –í–≤–µ–¥–µ–Ω–∏–µ
–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã —É—Å—Ç–∞—Ä–µ–ª–∏ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è OTA 2.0, –º–æ–¥—É–ª—å–Ω–æ–≥–æ UI –∏
—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π CSV-–∫–∞–ª–∏–±—Ä–æ–≤–∫–∏. –ù–∞—Å—Ç–æ—è—â–∏–π –ø–ª–∞–Ω —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –≤–µ–∫—Ç–æ—Ä —Ä–∞–∑–≤–∏—Ç–∏—è: —Ñ–æ–∫—É—Å –Ω–∞
—É–¥–∞–ª–µ–Ω–∏–µ ¬´code smells¬ª –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –±–∞–∑—ã –∫ –æ—Ç–¥–µ–ª–µ–Ω–∏—é —Å—Ç–∞—Ç–∏–∫–∏ UI
(`spiffs_web`) –æ—Ç —è–¥—Ä–∞ –ø—Ä–æ—à–∏–≤–∫–∏.

---

## 2. –¶–µ–ª–∏ (H2-2025)
| # | –¶–µ–ª—å | KPI / –º–µ—Ç—Ä–∏–∫–∞ |
|---|------|---------------|
| 1 | –£–º–µ–Ω—å—à–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ | **Tech-Debt SLO ‚â§ 45 –¥–Ω–µ–π**, <br/>Sonar rating ‚â• A |
| 2 | –ü–æ–≤—ã—Å–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ | **Unit coverage ‚â• 85 %**, <br/>**Integration ‚â• 60 %** |
| 3 | –ò—Å–∫–ª—é—á–∏—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | **0** —Ü–∏–∫–ª–æ–≤ –≤ include-–≥—Ä–∞—Ñ–µ (include-what-you-use) |
| 4 | –°–Ω–∏–∑–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ | Duplication < 3 % (cloned lines) |
| 5 | –ü–æ–≤—ã—Å–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å CI | Build-success = 100 % <br/>(main + PR) |

---

## 3. –ú–µ—Ç–æ–¥–∏–∫–∞ QA-–∞—É–¥–∏—Ç–∞
1. **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞**  
   * clang-tidy (modernize-*, performance-*, readability-*)  
   * Cppcheck (MISRA subset)  
   * Sonar C++ (community edition)  
2. **–ü–æ–∏—Å–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî `cpp-dependencies`, `cloc --by-file --duplicates`.  
3. **–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî `include-what-you-use` + `Graphviz`.  
4. **–°–ª–æ–∂–Ω–æ—Å—Ç—å** ‚Äî Lizard: CCN ‚â• 15 ‚Üí hot-spot.  
5. **Runtime-–∞—É–¥–∏—Ç** ‚Äî AddressSanitizer + LeakSanitizer (native build).

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ –æ—Ç—á—ë—Ç–µ `tech_debt_report_2025-07.md` (—à–∞–±–ª–æ–Ω ‚Äî —Å–º. `docs/dev/TECH_DEBT_REPORT_2025-06.md`).

---

## 4. –≠—Ç–∞–ø—ã –∏ —Å—Ä–æ–∫–∏
| –ù–µ–¥–µ–ª—è | Deliverable | Owner |
|--------|-------------|-------|
| 26 (24-28 –∏—é–Ω) | Setup clang-tidy + IWYU –≤ CI <br/>–°–Ω–∏–º–æ–∫ –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ | DevOps |
| 27 (01-05 –∏—é–ª) | –ü–æ–ª–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç + —Å–ø–∏—Å–æ–∫ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö smells | QA |
| 28-29 | Refactor Sprint-1: **low-hanging** (duplication, naming) | DevTeam |
| 30 (22-26 –∏—é–ª) | –†–µ–≥—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã + code-coverage –æ—Ç—á—ë—Ç | QA |
| 31-33 | Refactor Sprint-2: **architecture** (—Ü–∏–∫–ª—ã, –≤–∫–ª—é—á–∞–µ—Ç routing split) | DevTeam |
| 34 (19-23 –∞–≤–≥) | Beta v2.8.0 (core) + web-split PoC | FW-Lead / UI-Lead |

---

## 5. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —ç–ø–∏–∫–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
| Epic ID | –û–ø–∏—Å–∞–Ω–∏–µ | DoD |
|---------|----------|-----|
| **RF-1** | **CI Hardening 2.0** ‚Äî clang-tidy ¬´error¬ª —É—Ä–æ–≤–µ–Ω—å, –±–ª–æ–∫–∏—Ä—É—é—â–∏–π merge | main –∑–µ–ª—ë–Ω—ã–π 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ |
| **RF-2** | **Dependency Flattening** ‚Äî —É–¥–∞–ª–∏—Ç—å –≤—Å–µ include-—Ü–∏–∫–ª—ã, –≤–Ω–µ–¥—Ä–∏—Ç—å `forward decl` | IWYU –æ—Ç—á—ë—Ç = 0 —Ü–∏–∫–ª–æ–≤ |
| **RF-3** | **Sensor Abstraction v2** ‚Äî —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `ISensor` + –ø—Ä–æ—Å–ª–æ–π–∫—É Adapter | –†–µ–∞–ª—å–Ω—ã–µ –∏ Fake –¥–∞—Ç—á–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–π API |
| **RF-4** | **RecommendationEngine extraction** ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏–∑ `routes_*` –≤ –º–æ–¥—É–ª—å | ‚â• 80 % unit coverage –º–æ–¥—É–ª—è |
| **RF-5** | **UI Static Split** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–ª–∞–Ω `STATIC_PAGES_MIGRATION_PLAN.md` v1.1 | `web_spiffs.bin` < 1.2 MB, OTA web-only —Ä–∞–±–æ—Ç–∞–µ—Ç |

---

## 6. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥a—Ü–∏—è
| –†–∏—Å–∫ | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥a—Ü–∏—è |
|------|---------|-----------|
| –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Üí –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ —Ñ–∏—á | –°—Ä–µ–¥–Ω–µ–µ | –í—ã–¥–µ–ª–∏—Ç—å 20 % —Å–ø—Ä–∏–Ω—Ç–∞ –ø–æ–¥ tech-debt (policy) |
| –õ–æ–º–∞–µ–º API –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | –í—ã—Å–æ–∫–æ–µ | –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã (integration) + SemVer-tag |
| –†–æ—Å—Ç —Ä–∞–∑–º–µ—Ä–∞ Flash –ø–æ—Å–ª–µ IWYU | –ù–∏–∑–∫–æ–µ | `linker-gc-sections`, `-Os`, —É–±—Ä–∞—Ç—å dead-code |

---

## 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
* `STATIC_PAGES_MIGRATION_PLAN.md` ‚Üí v1.1 (–æ—Ç—Ä–∞–∂–∞–µ—Ç Epic RF-5).

---

## 8. –ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
–°—Ç–∞—Ç—É—Å-–±–æ—Ä–¥ GitHub Projects **"Refactoring & QA 2025-H2"** c –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ç–∫–∞–º–∏:
* `tech-debt üêû`  ‚Äì issue –∏–∑ –æ—Ç—á—ë—Ç–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞;
* `architecture üîß` ‚Äì –∑–∞–¥–∞—á–∏ —ç–ø–∏–∫–æ–≤ RF-2 / RF-3 ;
* `ui-split üåê` ‚Äì Epic RF-5.

–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ smell / –º–µ—Ç—Ä–∏–∫–∏, —Å—Å—ã–ª–∫—É –Ω–∞ –æ—Ç—á—ë—Ç, —á–µ–∫-–ª–∏—Å—Ç DoD.

---

¬© JXCT Team, 2025 ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å—Å—ã–ª–∫–∞ –≤ CI: nightly‚Äêgen-tech-debt). 