name: Test REPO_TOKEN

on:
  workflow_dispatch:

permissions:
  contents: read

jobs:
  test-token:
    runs-on: ubuntu-latest
    steps:
      - name: Test REPO_TOKEN access
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.REPO_TOKEN }}
          script: |
            try {
              const repo = await github.rest.repos.get({
                owner: context.repo.owner,
                repo: context.repo.repo
              });
              console.log('‚úÖ REPO_TOKEN —Ä–∞–±–æ—Ç–∞–µ—Ç!');
              console.log('üìã –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:', repo.data.name);
              console.log('üìù –û–ø–∏—Å–∞–Ω–∏–µ:', repo.data.description);
              console.log('üè† Homepage:', repo.data.homepage);
            } catch (error) {
              console.log('‚ùå –û—à–∏–±–∫–∞ —Å REPO_TOKEN:', error.message);
            }
      
      - name: Test GITHUB_TOKEN access
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            try {
              const repo = await github.rest.repos.get({
                owner: context.repo.owner,
                repo: context.repo.repo
              });
              console.log('‚úÖ GITHUB_TOKEN —Ä–∞–±–æ—Ç–∞–µ—Ç!');
              console.log('üìã –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:', repo.data.name);
            } catch (error) {
              console.log('‚ùå –û—à–∏–±–∫–∞ —Å GITHUB_TOKEN:', error.message);
            } 