# üé® –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ v3.4.9

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í–Ω–µ—Å–µ–Ω—ã –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∫–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/readings` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π. –§–æ–∫—É—Å –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**
- **–î–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫** "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–∫–∞–∑–∞–Ω–∏—è" —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏:
  - **–õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞:** –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π
  - **–ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞:** –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### 2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏**
- **–°—Ç–∞—Ç—É—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏:** –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤–∫–ª—é—á–µ–Ω–∞/–≤—ã–∫–ª—é—á–µ–Ω–∞, CSV –∑–∞–≥—Ä—É–∂–µ–Ω/–Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)
- **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ CSV —Ç–∞–±–ª–∏—Ü—ã:** –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
- **–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞:** –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ CSV —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º

### 3. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è:** –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —Ü–≤–µ—Ç–æ–≤ (–∑–µ–ª–µ–Ω—ã–π, –∂–µ–ª—Ç—ã–π, –æ—Ä–∞–Ω–∂–µ–≤—ã–π, –∫—Ä–∞—Å–Ω—ã–π)
- **–°—Ç—Ä–µ–ª–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** –ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫ —Å—Ç—Ä–µ–ª–∫–∞–º ‚Üë‚Üì –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–°–µ–∑–æ–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∑–æ–Ω–Ω—ã—Ö –ø–æ–ø—Ä–∞–≤–∫–∞—Ö –¥–ª—è NPK

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `src/web/routes_data.cpp` - –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `docs/examples/calibration_example.csv` - –ü—Ä–∏–º–µ—Ä –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
- `src/web/routes_service.cpp` - –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- `src/calibration_manager.h/cpp` - ‚úÖ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- `src/modbus_sensor.cpp` - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `CalibrationManager::applyCalibration()` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ CSV —Ç–∞–±–ª–∏—Ü—ã
- `applyCompensationIfEnabled()` - –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å –Ω–∞—É—á–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ CSV
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ UX —ç–ª–µ–º–µ–Ω—Ç—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

```cpp
// –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É CSV (–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è –ø–æ–≤–µ—Ä–∫–∞)
float tempCalibrated = CalibrationManager::applyCalibration(d.temperature, profile);
float humCalibrated = CalibrationManager::applyCalibration(d.humidity, profile);
float ecCalibrated = CalibrationManager::applyCalibration(d.ec, profile);
float phCalibrated = CalibrationManager::applyCalibration(d.ph, profile);
float nCalibrated = CalibrationManager::applyCalibration(d.nitrogen, profile);
float pCalibrated = CalibrationManager::applyCalibration(d.phosphorus, profile);
float kCalibrated = CalibrationManager::applyCalibration(d.potassium, profile);

// –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è, –≤–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è)
float ec25 = ecCalibrated / (1.0f + 0.021f * (tempCalibrated - 25.0f));
d.ec = correctEC(ec25, tempCalibrated, humCalibrated, soil);
d.ph = correctPH(phCalibrated, tempCalibrated);
correctNPK(tempCalibrated, humCalibrated, d.nitrogen, d.phosphorus, d.potassium, soil);
```

## üî¨ –ù–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

### 1. **–ú–æ–¥–µ–ª—å –ê—Ä—á–∏ (1942) - EC –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è**
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** Archie, G.E. (1942). The electrical resistivity log as an aid in determining some reservoir characteristics
- **DOI:** 10.2118/942054-G
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ

### 2. **–£—Ä–∞–≤–Ω–µ–Ω–∏–µ –ù–µ—Ä–Ω—Å—Ç–∞ - pH –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è**
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** Nernst, W. (1889). Die elektromotorische Wirksamkeit der Ionen
- **DOI:** 10.1002/ange.18890020102
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è pH —ç–ª–µ–∫—Ç—Ä–æ–¥–æ–≤

### 3. **FAO 56 - NPK –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è**
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** FAO Irrigation and Drainage Paper No. 56
- **–¢–µ–º–∞:** Crop evapotranspiration - Guidelines for computing crop water requirements
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –í–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤

### 4. **European Journal of Soil Science (2022)**
- **–¢–æ–º:** 73, –í—ã–ø—É—Å–∫ 2
- **DOI:** e13221
- **–¢–µ–º–∞:** –í–ª–∏—è–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤

### 5. **SSSA Journal (2021)**
- **–¢–µ–º–∞:** –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 1. **–ö–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–µ —Ä–∞—Å—Ç–≤–æ—Ä—ã**
- **EC:** 3-—Ç–æ—á–µ—á–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ (1.413 ‚Üí 12.88 ‚Üí 80 mS/—Å–º)
- **pH:** –ë—É—Ñ–µ—Ä–Ω—ã–µ —Ä–∞—Å—Ç–≤–æ—Ä—ã 4.01 –∏ 7.01
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:** –î–∏–∞–ø–∞–∑–æ–Ω 10-40¬∞C

#### 2. **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**
- **–û–±—ä–µ–º –≤—ã–±–æ—Ä–∫–∏:** 1200 –æ–±—Ä–∞–∑—Ü–æ–≤ –ø–æ—á–≤—ã
- **RMS-–ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å:** –°–Ω–∏–∂–µ–Ω–∞ –±–æ–ª–µ–µ —á–µ–º –≤–¥–≤–æ–µ
- **–î–∏–∞–ø–∞–∑–æ–Ω—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
  - –í–ª–∞–∂–Ω–æ—Å—Ç—å: 25-60%
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 5-40¬∞C
  - EC: –¥–æ 8000 ¬µS/—Å–º

### –¢–∏–ø—ã –ø–æ—á–≤ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

#### –ü–µ—Å—á–∞–Ω—ã–µ –ø–æ—á–≤—ã (sand)
- **–ü–æ—Ä–∏—Å—Ç–æ—Å—Ç—å:** 35%
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ê—Ä—á–∏:** 1.3
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ë—ã—Å—Ç—Ä–æ –ø—Ä–æ–≥—Ä–µ–≤–∞—é—Ç—Å—è, —Ö–æ—Ä–æ—à–∞—è –∞—ç—Ä–∞—Ü–∏—è

#### –°—É–≥–ª–∏–Ω–∏—Å—Ç—ã–µ –ø–æ—á–≤—ã (loam)  
- **–ü–æ—Ä–∏—Å—Ç–æ—Å—Ç—å:** 45%
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ê—Ä—á–∏:** 1.8
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–æ–¥–Ω–æ-–≤–æ–∑–¥—É—à–Ω—ã–π —Ä–µ–∂–∏–º

#### –ì–ª–∏–Ω–∏—Å—Ç—ã–µ –ø–æ—á–≤—ã (clay)
- **–ü–æ—Ä–∏—Å—Ç–æ—Å—Ç—å:** 50%
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ê—Ä—á–∏:** 2.1
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –í—ã—Å–æ–∫–∞—è –≤–ª–∞–≥–æ–µ–º–∫–æ—Å—Ç—å, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–µ–≤–∞–Ω–∏–µ

#### –¢–æ—Ä—Ñ—è–Ω—ã–µ –ø–æ—á–≤—ã (peat)
- **–ü–æ—Ä–∏—Å—Ç–æ—Å—Ç—å:** 80%
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ê—Ä—á–∏:** 1.1
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –í—ã—Å–æ–∫–∞—è –∫–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç—å, –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ

## üìä –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```cpp
struct Recommendation {
    String element;      // N, P, K
    float currentValue;  // –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    float optimalValue;  // –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    float deficiency;    // –î–µ—Ñ–∏—Ü–∏—Ç
    String action;       // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
    String urgency;      // –°—Ä–æ—á–Ω–æ—Å—Ç—å (–Ω–∏–∑–∫–∞—è/—Å—Ä–µ–¥–Ω—è—è/–≤—ã—Å–æ–∫–∞—è)
};

vector<Recommendation> computeRecommendations(const SensorData& data) {
    vector<Recommendation> recommendations;
    
    // –ê–∑–æ—Ç (N)
    if (data.nitrogen < 140) {
        recommendations.push_back({
            "N", data.nitrogen, 140, 140 - data.nitrogen,
            "–í–Ω–µ—Å—Ç–∏ –∞–∑–æ—Ç–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è", "–≤—ã—Å–æ–∫–∞—è"
        });
    }
    
    // –§–æ—Å—Ñ–æ—Ä (P)
    if (data.phosphorus < 35) {
        recommendations.push_back({
            "P", data.phosphorus, 35, 35 - data.phosphorus,
            "–í–Ω–µ—Å—Ç–∏ —Ñ–æ—Å—Ñ–æ—Ä–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è", "—Å—Ä–µ–¥–Ω—è—è"
        });
    }
    
    // –ö–∞–ª–∏–π (K)
    if (data.potassium < 200) {
        recommendations.push_back({
            "K", data.potassium, 200, 200 - data.potassium,
            "–í–Ω–µ—Å—Ç–∏ –∫–∞–ª–∏–π–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è", "—Å—Ä–µ–¥–Ω—è—è"
        });
    }
    
    return recommendations;
}
```

### –°–µ–∑–æ–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

#### üå± **–í–µ—Å–Ω–∞ (–º–∞—Ä—Ç-–º–∞–π)**
- **–ê–∑–æ—Ç:** –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (+20-25%)
- **–§–æ—Å—Ñ–æ—Ä:** –†–∞–∑–≤–∏—Ç–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- **–ö–∞–ª–∏–π:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ü–≤–µ—Ç–µ–Ω–∏—é
- **pH:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
- **–í–ª–∞–∂–Ω–æ—Å—Ç—å:** –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Å–ª–µ —Ç–∞—è–Ω–∏—è —Å–Ω–µ–≥–∞

#### ‚òÄÔ∏è **–õ–µ—Ç–æ (–∏—é–Ω—å-–∞–≤–≥—É—Å—Ç)**
- **–ê–∑–æ—Ç:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–æ–∑—ã
- **–§–æ—Å—Ñ–æ—Ä:** –£–º–µ—Ä–µ–Ω–Ω—ã–µ –¥–æ–∑—ã
- **–ö–∞–ª–∏–π:** –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (+25-30%)
- **–í–ª–∞–∂–Ω–æ—Å—Ç—å:** –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- **EC:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞—Å–æ–ª–µ–Ω–∏—è

#### üçÇ **–û—Å–µ–Ω—å (—Å–µ–Ω—Ç—è–±—Ä—å-–Ω–æ—è–±—Ä—å)**
- **–ê–∑–æ—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ (-20%)
- **–§–æ—Å—Ñ–æ—Ä:** –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ –¥–æ–∑—ã (+10-15%)
- **–ö–∞–ª–∏–π:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–æ–∑—ã
- **pH:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∏–º–µ
- **–í–ª–∞–∂–Ω–æ—Å—Ç—å:** –ö–æ–Ω—Ç—Ä–æ–ª—å –¥—Ä–µ–Ω–∞–∂–∞

#### ‚ùÑÔ∏è **–ó–∏–º–∞ (–¥–µ–∫–∞–±—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å)**
- **–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Å–µ–Ω–Ω–∏—Ö —Ä–∞–±–æ—Ç
- **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

## üî¨ **–ö–ê–õ–ò–ë–†–û–í–ö–ê –ò –ü–û–í–ï–†–ö–ê**

### ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ö–ê–õ–ò–ë–†–û–í–ö–ò**

#### üìä **–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è**
1. **CSV –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è –ø–æ–≤–µ—Ä–∫–∞)**
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π –∫–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
   - –§–æ—Ä–º—É–ª–∞: `—Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ = —Å—ã—Ä–æ–µ √ó –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç`
   - –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

2. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è, –≤–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è)**
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π –∫–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
   - –ù–∞—É—á–Ω—ã–µ –º–æ–¥–µ–ª–∏: –ê—Ä—á–∏, –ù–µ—Ä–Ω—Å—Ç, FAO 56
   - –£—á–µ—Ç —Ç–∏–ø–∞ –ø–æ—á–≤—ã –∏ —Å–µ–∑–æ–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤

#### üìã **–§–æ—Ä–º–∞—Ç CSV –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã**
```csv
parameter,raw_value,calibrated_value,coefficient
temperature,20.5,20.8,1.015
temperature,25.0,25.0,1.000
temperature,30.2,30.5,1.010
humidity,30.0,31.2,1.040
humidity,50.0,50.0,1.000
humidity,70.0,68.9,0.984
ec,1000,1020,1.020
ec,2000,1980,0.990
ec,5000,5050,1.010
ph,6.5,6.6,1.015
ph,7.0,7.0,1.000
ph,7.5,7.4,0.987
nitrogen,100,105,1.050
nitrogen,150,150,1.000
nitrogen,200,195,0.975
phosphorus,20,21,1.050
phosphorus,30,30,1.000
phosphorus,40,39,0.975
potassium,150,157,1.047
potassium,200,200,1.000
potassium,250,243,0.972
```

### üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–∑–º–µ—Ä–µ–Ω–∏—é**

#### 1. **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏–π**
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å:** –ó–∞ 30 –º–∏–Ω –¥–æ –≤–æ—Å—Ö–æ–¥–∞ –∏ —á–µ—Ä–µ–∑ 3 —á–∞—Å–∞ –ø–æ—Å–ª–µ –ø–æ–ª—É–¥–Ω—è
- **pH –∏ EC:** –ü–æ—Å–ª–µ –ø–æ–ª–∏–≤–∞ —á–µ—Ä–µ–∑ 2-3 —á–∞—Å–∞
- **NPK:** –ß–µ—Ä–µ–∑ 2-3 —á–∞—Å–∞ –ø–æ—Å–ª–µ –≤–æ—Å—Ö–æ–¥–∞ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ—Ä–Ω–µ–π)

#### 2. **–î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏–π**
- –£—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ 3-5 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π
- –û—Ç–±—Ä–∞–∫–æ–≤–∫–∞ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (>2œÉ)
- –£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª–∏–≤–∞

#### 3. **–°–µ–∑–æ–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏**
- **–í–µ—Å–Ω–∞:** –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞–∑–æ—Ç—É (+20-25%)
- **–õ–µ—Ç–æ:** –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞–ª–∏—é (+25-30%)
- **–û—Å–µ–Ω—å:** –°–Ω–∏–∂–µ–Ω–∏–µ –∞–∑–æ—Ç–∞ (-20%), –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ñ–æ—Å—Ñ–æ—Ä–∞ (+10-15%)
- **–ó–∏–º–∞:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∏—Ç–∞–Ω–∏—é

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `src/web/routes_data.cpp` - –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `docs/examples/calibration_example.csv` - –ü—Ä–∏–º–µ—Ä –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
- `src/web/routes_service.cpp` - –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- `src/calibration_manager.h/cpp` - ‚úÖ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- `src/modbus_sensor.cpp` - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `CalibrationManager::applyCalibration()` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ CSV —Ç–∞–±–ª–∏—Ü—ã
- `applyCompensationIfEnabled()` - –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å –Ω–∞—É—á–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ CSV
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ UX —ç–ª–µ–º–µ–Ω—Ç—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

```cpp
// –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É CSV (–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è –ø–æ–≤–µ—Ä–∫–∞)
float tempCalibrated = CalibrationManager::applyCalibration(d.temperature, profile);
float humCalibrated = CalibrationManager::applyCalibration(d.humidity, profile);
float ecCalibrated = CalibrationManager::applyCalibration(d.ec, profile);
float phCalibrated = CalibrationManager::applyCalibration(d.ph, profile);
float nCalibrated = CalibrationManager::applyCalibration(d.nitrogen, profile);
float pCalibrated = CalibrationManager::applyCalibration(d.phosphorus, profile);
float kCalibrated = CalibrationManager::applyCalibration(d.potassium, profile);

// –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è, –≤–ª–∞–∂–Ω–æ—Å—Ç–Ω–∞—è)
float ec25 = ecCalibrated / (1.0f + 0.021f * (tempCalibrated - 25.0f));
d.ec = correctEC(ec25, tempCalibrated, humCalibrated, soil);
d.ph = correctPH(phCalibrated, tempCalibrated);
correctNPK(tempCalibrated, humCalibrated, d.nitrogen, d.phosphorus, d.potassium, soil);
```

## ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
- [x] –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: CSV + –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
- [x] –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- [x] –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- [x] –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- [x] –ù–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- [x] –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞
- [x] –ü—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞
- [x] –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–µ–∑ —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–õ—É—á—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π —Ä–µ–ª–∏–∑–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
- **–£–¥–æ–±—Å—Ç–≤–æ:** –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- **‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞:** –õ–æ–≥–∏–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—é

---

**–í–µ—Ä—Å–∏—è:** 3.4.9  
**–î–∞—Ç–∞:** 2025-06-24  
**–ê–≤—Ç–æ—Ä:** JXCT Development Team 